[build]
  command = "npm run build"
  publish = ".next"
  functions = "netlify/functions"

[build.environment]
  NODE_VERSION = "20"

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Functions configuration
# Scheduled function is defined in netlify/functions/process-queue.js
# Schedule is also defined here as a backup/alternative method
[functions]
  directory = "netlify/functions"

[functions."process-queue"]
  schedule = "*/1 * * * *"  # Every 1 minute (reduced for testing)

# Environment variables will be set in Netlify dashboard
# Make sure to add all variables from .env.local
# NEXT_PUBLIC_* variables are required at build time

